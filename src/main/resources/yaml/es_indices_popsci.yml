# Indices settings
Indices:
  # First index
  # Name of the index to be created, existing index with same name will be deleted
  - index_name: cases
    type: neo4j
    # type mapping for each property of the index
    mapping:
      arm:
        type: keyword
      arms:
        type: keyword
      biospecimens_available:
        type: keyword
      case_id:
        type: keyword
      case_ids:
        type: keyword
      center:
        type: keyword
      centers:
        type: keyword
      clinical_trial:
        type: keyword
      clinical_trials:
        type: keyword
      dx_age:
        type: integer
      dx_ages:
        type: integer
      dx_cancer_type:
        type: keyword
      dx_cancer_types:
        type: keyword
      enrollment_age:
        type: integer
      enrollment_ages:
        type: integer
      enrollment_year:
        type: integer
      enrollment_years:
        type: integer
      ethnicities:
        type: keyword
      ethnicity:
        type: keyword
      race:
        type: keyword
      races:
        type: keyword
      sex:
        type: keyword
      sexes:
        type: keyword
      studies:
        type: keyword
      study:
        type: keyword
      study_type:
        type: keyword
      study_types:
        type: keyword
        
    # Cypher query will be used to retrieve data from Neo4j, and index into Elasticsearch
    cypher_query: "
      MATCH (d:demo)-[:demo_of_breast_case]->(c)-[:breast_case_of_cohort]->(co)-[:of_clinical_trial]->(ct)
      RETURN DISTINCT

      c.breast_case_id AS case_id,
      c.breast_case_id AS case_ids,

      CASE c.arm WHEN '' THEN 'Not Specified' ELSE c.arm END AS arm,
      CASE c.arm WHEN '' THEN 'Not Specified' ELSE c.arm END AS arms,
      CASE c.biosp_f WHEN '' THEN 'Not Specified' ELSE c.biosp_f END AS biospecimens_available,
      CASE c.center WHEN '' THEN 'Not Specified' ELSE c.center END AS center,
      CASE c.center WHEN '' THEN 'Not Specified' ELSE c.center END AS centers,
      c.plco_dx_age AS dx_age,
      c.plco_dx_age AS dx_ages,
      CASE c.plco_dx WHEN '' THEN 'Not Specified' ELSE c.plco_dx END AS dx_cancer_type,
      CASE c.plco_dx WHEN '' THEN 'Not Specified' ELSE c.plco_dx END AS dx_cancer_types,
      c.rndyear AS enrollment_year,
      c.rndyear AS enrollment_years,

      CASE co.cohort_id WHEN '' THEN 'Not Specified' ELSE co.cohort_id END AS study,
      CASE co.cohort_id WHEN '' THEN 'Not Specified' ELSE co.cohort_id END AS studies,

      CASE ct.clinical_trial_short_name WHEN '' THEN 'Not Specified' ELSE ct.clinical_trial_short_name END AS clinical_trial,
      CASE ct.clinical_trial_short_name WHEN '' THEN 'Not Specified' ELSE ct.clinical_trial_short_name END AS clinical_trials,
      CASE ct.clinical_trial_type WHEN '' THEN 'Not Specified' ELSE ct.clinical_trial_type END AS study_type,
      CASE ct.clinical_trial_type WHEN '' THEN 'Not Specified' ELSE ct.clinical_trial_type END AS study_types,

      d.age AS enrollment_age,
      d.age AS enrollment_ages,
      CASE d.hispanic_f WHEN '' THEN 'Not Specified' ELSE d.hispanic_f END AS ethnicity,
      CASE d.hispanic_f WHEN '' THEN 'Not Specified' ELSE d.hispanic_f END AS ethnicities,
      CASE d.race7 WHEN '' THEN 'Not Specified' ELSE d.race7 END AS race,
      CASE d.race7 WHEN '' THEN 'Not Specified' ELSE d.race7 END AS races,
      CASE d.sex WHEN '' THEN 'Not Specified' ELSE d.sex END AS sex,
      CASE d.sex WHEN '' THEN 'Not Specified' ELSE d.sex END AS sexes

      UNION

      MATCH (d:demo)-[:demo_of_colo_case]->(c)-[:colo_case_of_cohort]->(co)-[:of_clinical_trial]->(ct)
      RETURN DISTINCT

      c.colo_case_id AS case_id,
      c.colo_case_id AS case_ids,

      CASE c.arm WHEN '' THEN 'Not Specified' ELSE c.arm END AS arm,
      CASE c.arm WHEN '' THEN 'Not Specified' ELSE c.arm END AS arms,
      CASE c.biosp_f WHEN '' THEN 'Not Specified' ELSE c.biosp_f END AS biospecimens_available,
      CASE c.center WHEN '' THEN 'Not Specified' ELSE c.center END AS center,
      CASE c.center WHEN '' THEN 'Not Specified' ELSE c.center END AS centers,
      c.plco_dx_age AS dx_age,
      c.plco_dx_age AS dx_ages,
      CASE c.plco_dx WHEN '' THEN 'Not Specified' ELSE c.plco_dx END AS dx_cancer_type,
      CASE c.plco_dx WHEN '' THEN 'Not Specified' ELSE c.plco_dx END AS dx_cancer_types,
      c.rndyear AS enrollment_year,
      c.rndyear AS enrollment_years,

      CASE co.cohort_id WHEN '' THEN 'Not Specified' ELSE co.cohort_id END AS study,
      CASE co.cohort_id WHEN '' THEN 'Not Specified' ELSE co.cohort_id END AS studies,

      CASE ct.clinical_trial_short_name WHEN '' THEN 'Not Specified' ELSE ct.clinical_trial_short_name END AS clinical_trial,
      CASE ct.clinical_trial_short_name WHEN '' THEN 'Not Specified' ELSE ct.clinical_trial_short_name END AS clinical_trials,
      CASE ct.clinical_trial_type WHEN '' THEN 'Not Specified' ELSE ct.clinical_trial_type END AS study_type,
      CASE ct.clinical_trial_type WHEN '' THEN 'Not Specified' ELSE ct.clinical_trial_type END AS study_types,

      d.age AS enrollment_age,
      d.age AS enrollment_ages,
      CASE d.hispanic_f WHEN '' THEN 'Not Specified' ELSE d.hispanic_f END AS ethnicity,
      CASE d.hispanic_f WHEN '' THEN 'Not Specified' ELSE d.hispanic_f END AS ethnicities,
      CASE d.race7 WHEN '' THEN 'Not Specified' ELSE d.race7 END AS race,
      CASE d.race7 WHEN '' THEN 'Not Specified' ELSE d.race7 END AS races,
      CASE d.sex WHEN '' THEN 'Not Specified' ELSE d.sex END AS sex,
      CASE d.sex WHEN '' THEN 'Not Specified' ELSE d.sex END AS sexes

      UNION

      MATCH (d:demo)-[:demo_of_lung_case]->(c)-[:lung_case_of_cohort]->(co)-[:of_clinical_trial]->(ct)
      RETURN DISTINCT

      c.lung_case_id AS case_id,
      c.lung_case_id AS case_ids,

      CASE c.arm WHEN '' THEN 'Not Specified' ELSE c.arm END AS arm,
      CASE c.arm WHEN '' THEN 'Not Specified' ELSE c.arm END AS arms,
      CASE c.biosp_f WHEN '' THEN 'Not Specified' ELSE c.biosp_f END AS biospecimens_available,
      CASE c.center WHEN '' THEN 'Not Specified' ELSE c.center END AS center,
      CASE c.center WHEN '' THEN 'Not Specified' ELSE c.center END AS centers,
      c.plco_dx_age AS dx_age,
      c.plco_dx_age AS dx_ages,
      CASE c.plco_dx WHEN '' THEN 'Not Specified' ELSE c.plco_dx END AS dx_cancer_type,
      CASE c.plco_dx WHEN '' THEN 'Not Specified' ELSE c.plco_dx END AS dx_cancer_types,
      c.rndyear AS enrollment_year,
      c.rndyear AS enrollment_years,

      CASE co.cohort_id WHEN '' THEN 'Not Specified' ELSE co.cohort_id END AS study,
      CASE co.cohort_id WHEN '' THEN 'Not Specified' ELSE co.cohort_id END AS studies,

      CASE ct.clinical_trial_short_name WHEN '' THEN 'Not Specified' ELSE ct.clinical_trial_short_name END AS clinical_trial,
      CASE ct.clinical_trial_short_name WHEN '' THEN 'Not Specified' ELSE ct.clinical_trial_short_name END AS clinical_trials,
      CASE ct.clinical_trial_type WHEN '' THEN 'Not Specified' ELSE ct.clinical_trial_type END AS study_type,
      CASE ct.clinical_trial_type WHEN '' THEN 'Not Specified' ELSE ct.clinical_trial_type END AS study_types,

      d.age AS enrollment_age,
      d.age AS enrollment_ages,
      CASE d.hispanic_f WHEN '' THEN 'Not Specified' ELSE d.hispanic_f END AS ethnicity,
      CASE d.hispanic_f WHEN '' THEN 'Not Specified' ELSE d.hispanic_f END AS ethnicities,
      CASE d.race7 WHEN '' THEN 'Not Specified' ELSE d.race7 END AS race,
      CASE d.race7 WHEN '' THEN 'Not Specified' ELSE d.race7 END AS races,
      CASE d.sex WHEN '' THEN 'Not Specified' ELSE d.sex END AS sex,
      CASE d.sex WHEN '' THEN 'Not Specified' ELSE d.sex END AS sexes

      UNION

      MATCH (d:demo)-[:demo_of_ovar_case]->(c)-[:ovar_case_of_cohort]->(co)-[:of_clinical_trial]->(ct)
      RETURN DISTINCT

      c.ovar_case_id AS case_id,
      c.ovar_case_id AS case_ids,

      CASE c.arm WHEN '' THEN 'Not Specified' ELSE c.arm END AS arm,
      CASE c.arm WHEN '' THEN 'Not Specified' ELSE c.arm END AS arms,
      CASE c.biosp_f WHEN '' THEN 'Not Specified' ELSE c.biosp_f END AS biospecimens_available,
      CASE c.center WHEN '' THEN 'Not Specified' ELSE c.center END AS center,
      CASE c.center WHEN '' THEN 'Not Specified' ELSE c.center END AS centers,
      c.plco_dx_age AS dx_age,
      c.plco_dx_age AS dx_ages,
      CASE c.plco_dx WHEN '' THEN 'Not Specified' ELSE c.plco_dx END AS dx_cancer_type,
      CASE c.plco_dx WHEN '' THEN 'Not Specified' ELSE c.plco_dx END AS dx_cancer_types,
      c.rndyear AS enrollment_year,
      c.rndyear AS enrollment_years,

      CASE co.cohort_id WHEN '' THEN 'Not Specified' ELSE co.cohort_id END AS study,
      CASE co.cohort_id WHEN '' THEN 'Not Specified' ELSE co.cohort_id END AS studies,

      CASE ct.clinical_trial_short_name WHEN '' THEN 'Not Specified' ELSE ct.clinical_trial_short_name END AS clinical_trial,
      CASE ct.clinical_trial_short_name WHEN '' THEN 'Not Specified' ELSE ct.clinical_trial_short_name END AS clinical_trials,
      CASE ct.clinical_trial_type WHEN '' THEN 'Not Specified' ELSE ct.clinical_trial_type END AS study_type,
      CASE ct.clinical_trial_type WHEN '' THEN 'Not Specified' ELSE ct.clinical_trial_type END AS study_types,

      d.age AS enrollment_age,
      d.age AS enrollment_ages,
      CASE d.hispanic_f WHEN '' THEN 'Not Specified' ELSE d.hispanic_f END AS ethnicity,
      CASE d.hispanic_f WHEN '' THEN 'Not Specified' ELSE d.hispanic_f END AS ethnicities,
      CASE d.race7 WHEN '' THEN 'Not Specified' ELSE d.race7 END AS race,
      CASE d.race7 WHEN '' THEN 'Not Specified' ELSE d.race7 END AS races,
      CASE d.sex WHEN '' THEN 'Not Specified' ELSE d.sex END AS sex,
      CASE d.sex WHEN '' THEN 'Not Specified' ELSE d.sex END AS sexes

      UNION

      MATCH (d:demo)-[:demo_of_pros_case]->(c)-[:pros_case_of_cohort]->(co)-[:of_clinical_trial]->(ct)
      RETURN DISTINCT

      c.pros_case_id AS case_id,
      c.pros_case_id AS case_ids,

      CASE c.arm WHEN '' THEN 'Not Specified' ELSE c.arm END AS arm,
      CASE c.arm WHEN '' THEN 'Not Specified' ELSE c.arm END AS arms,
      CASE c.biosp_f WHEN '' THEN 'Not Specified' ELSE c.biosp_f END AS biospecimens_available,
      CASE c.center WHEN '' THEN 'Not Specified' ELSE c.center END AS center,
      CASE c.center WHEN '' THEN 'Not Specified' ELSE c.center END AS centers,
      c.plco_dx_age AS dx_age,
      c.plco_dx_age AS dx_ages,
      CASE c.plco_dx WHEN '' THEN 'Not Specified' ELSE c.plco_dx END AS dx_cancer_type,
      CASE c.plco_dx WHEN '' THEN 'Not Specified' ELSE c.plco_dx END AS dx_cancer_types,
      c.rndyear AS enrollment_year,
      c.rndyear AS enrollment_years,

      CASE co.cohort_id WHEN '' THEN 'Not Specified' ELSE co.cohort_id END AS study,
      CASE co.cohort_id WHEN '' THEN 'Not Specified' ELSE co.cohort_id END AS studies,

      CASE ct.clinical_trial_short_name WHEN '' THEN 'Not Specified' ELSE ct.clinical_trial_short_name END AS clinical_trial,
      CASE ct.clinical_trial_short_name WHEN '' THEN 'Not Specified' ELSE ct.clinical_trial_short_name END AS clinical_trials,
      CASE ct.clinical_trial_type WHEN '' THEN 'Not Specified' ELSE ct.clinical_trial_type END AS study_type,
      CASE ct.clinical_trial_type WHEN '' THEN 'Not Specified' ELSE ct.clinical_trial_type END AS study_types,

      d.age AS enrollment_age,
      d.age AS enrollment_ages,
      CASE d.hispanic_f WHEN '' THEN 'Not Specified' ELSE d.hispanic_f END AS ethnicity,
      CASE d.hispanic_f WHEN '' THEN 'Not Specified' ELSE d.hispanic_f END AS ethnicities,
      CASE d.race7 WHEN '' THEN 'Not Specified' ELSE d.race7 END AS race,
      CASE d.race7 WHEN '' THEN 'Not Specified' ELSE d.race7 END AS races,
      CASE d.sex WHEN '' THEN 'Not Specified' ELSE d.sex END AS sex,
      CASE d.sex WHEN '' THEN 'Not Specified' ELSE d.sex END AS sexes
      "